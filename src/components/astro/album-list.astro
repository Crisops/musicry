---
import { getAllAlbums } from '@/lib/supabase/resources/albums'
import AlbumItem from '@/components/astro/album-item.astro'

const { request, cookies } = Astro

const albums = await getAllAlbums(request, cookies)
---

<div class="grid-row-1 grid h-full">
  <div class="scrollbar scrollbar-w-1 scrollbar-thumb-rounded-full scrollbar-thumb-rich-dark-jungle overflow-y-auto">
    <div class="flex h-0 flex-col">
      <nav class="w-full">
        <ul class="flex flex-col gap-1">
          {
            albums.map((album) => (
              <AlbumItem
                id={album.id}
                title={album.title}
                artist={album.artist}
                image_url={album.image_url}
                classNames={{
                  wrapperContent: 'min-lg:max-2xl:hidden',
                }}
              />
            ))
          }
        </ul>
      </nav>
    </div>
  </div>
</div>
