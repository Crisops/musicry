---
import type { Tables } from '@/types/database.types'
import { Image } from 'astro:assets'
import Link from '@/components/astro/link.astro'

interface Props {
  id: Tables<'albums'>['id']
  title: Tables<'albums'>['title']
  artist: Tables<'albums'>['artist']
  image_url: Tables<'albums'>['image_url']
}

const { id, title, artist, image_url: imageUrl } = Astro.props
---

<li class="hover:bg-rich-dark-jungle/30 transition-background flex-grow">
  <Link href={`/album/${id}`}>
    <div class="relative aspect-square h-auto w-11">
      {
        imageUrl && (
          <Image
            class="absolute h-full w-full rounded-md object-cover"
            src={imageUrl}
            alt={title}
            width={44}
            height={44}
          />
        )
      }
    </div>
    <div class="flex-initial flex-col items-start justify-center">
      <h4 class="text-sealsalt text-small font-semibold">
        {title}
      </h4>
      <p class="text-gray-dim max-w-28 truncate text-xs">
        {artist}
      </p>
    </div>
  </Link>
</li>
